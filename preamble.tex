\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[margin=1in, twoside]{geometry}
\usepackage[indent]{parskip}
\usepackage{graphicx, subcaption, hyperref, sidenotes, enumitem, tabularx, todonotes, listings, biblatex, tikz, algpseudocode, csquotes}
\renewcommand{\familydefault}{\sfdefault}

\newenvironment{steps}
    {\begingroup \samepage \begin{enumerate}[label={\bfseries Step \arabic{*}.}]}
    {\end{enumerate} \endgroup}

\newcommand{\rltable}[3]{\begin{center}
    \begin{tabular}{|c|c|c|c|}
        \hline
        \textbf{States} & \textbf{Actions} &\textbf{Rewards} \\
        \hline
        #1 & #2 & #3 \\
        \hline
    \end{tabular}
\end{center}}

% ==================== HEADER STYLES ====================

\usepackage{fancyhdr}

\setlength{\headheight}{16pt}
\pagestyle{fancy}

\fancyhf{} % clear all existing fields
\fancyhead[L]{\leftmark}
\fancyhead[R]{\rightmark}
\fancyfoot[RO, LE]{\thepage}



% ==================== MATH NOTATION ====================

% use tcolorbox theorems instead of amsthm
\usepackage{amsmath, amsfonts, amssymb}

\newcommand{\R}{\mathbb{R}}
\newcommand{\bop}{\mathcal{J}}
\newcommand{\cN}{\mathcal{N}}
\let\P\relax
\DeclareMathOperator{\P}{\mathbb{P}}
\renewcommand{\S}{\mathcal{S}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\qed}{$\blacksquare$}

% semantic commands
\newcommand{\hor}{H}
\newcommand{\hi}{h}
\newcommand{\st}{x}
\newcommand{\act}{u}

\renewcommand{\tilde}{\widetilde}

\DeclareMathOperator*{\E}{\mathbb{E}}
\DeclareMathOperator*{\argmax}{\textrm{arg\ max}}
\DeclareMathOperator*{\var}{\textrm{Var}}
\DeclareMathOperator*{\tr}{\textrm{Tr}}
\DeclareMathOperator*{\diag}{\textrm{diag}}

\allowdisplaybreaks


% ==================== TCOLORBOX CONFIGURATION ====================

\usepackage[many]{tcolorbox}

\newcommand{\customtheorem}[4]{
    \newcounter{#1}[section]
    \expandafter\newcommand\csname #1name\endcsname{#2}
    \expandafter\renewcommand\csname the#1\endcsname{\thesection.\arabic{#1}}
    \newtcbtheorem[use counter*=#1]
        {#1}
        {#2}
        {
            fonttitle=\bfseries,
            colback=#4,
            coltitle=black,
            enhanced,
            breakable,
            parbox=false,
            boxed title style={colback=#4},
            attach boxed title to top text left={
                yshift=-\tcboxedtitleheight/2,
                yshifttext=-\tcboxedtitleheight/2}
        }{#3}
}

\customtheorem{theorem}{Theorem}{th}{green!5}
\customtheorem{definition}{Definition}{df}{blue!5}
\customtheorem{remark}{Remark}{rm}{white}
\customtheorem{example}{Example}{eg}{violet!5}

